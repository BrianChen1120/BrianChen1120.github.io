<!doctype html>
<html lang="zh-Hant" data-bs-theme="auto">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gallery — Kuan-Lin (Brian) Chen</title>
  <meta name="description" content="Selected photography by Kuan-Lin (Brian) Chen." />

  <!-- Open Graph -->
  <meta property="og:title" content="Gallery — Kuan-Lin (Brian) Chen" />
  <meta property="og:description" content="Selected photography by Kuan-Lin (Brian) Chen." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://brianchen1120.github.io/assets/og.png" />
  <meta property="og:url" content="https://brianchen1120.github.io/gallery.html" />

  <!-- Bootstrap 5 + Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
  <link rel="icon" href="assets/favicon.png" sizes="any">

  <style>
    html{ scroll-behavior:smooth; }

    /* icon-only 按鈕（與首頁一致） */
    .icon-btn{ background:transparent; border:0; padding:.375rem; line-height:1; }
    .icon-btn:focus, .icon-btn:focus-visible{ outline:none; box-shadow:none; }
    .icon-btn:hover{ opacity:.85; }
    .nav-link .bi, .icon-btn .bi{ vertical-align:-2px; }

    /* 頁頭說明段 */
    .lead-wrap{ max-width:820px; margin-inline:auto; }

    /* ========= Gallery Grid：手機 1 欄；md+ 12 欄 ========= */
    .gallery-grid{
      --gap: 1rem;
      display: grid;
      gap: var(--gap);
      grid-template-columns: 1fr;                 /* < md: 1 欄（每列 1 張） */
    }
    @media (min-width:768px){
      .gallery-grid{
        grid-template-columns: repeat(12, 1fr);   /* md+ 使用 12 欄 */
        grid-auto-flow: row;                      /* 維持順序、避免 dense 亂塞 */
      }
    }

    /* 卡片外觀 */
    .g-item{
      position: relative; overflow: hidden; border-radius:.75rem;
      border:1px solid var(--bs-border-color); background:var(--bs-body-bg);
    }

    /* 固定比例框，避免載入跳動 */
    .g-media{ width:100%; display:block; }
    .ratio-3x2 .g-media{ aspect-ratio: 3 / 2; }  /* 寬圖：3:2 */
    .ratio-2x3 .g-media{ aspect-ratio: 2 / 3; }  /* 直圖：2:3 */

    /* 版面規則（你指定的需求）：
       3:2 一列 2 張 → 每張佔 6 欄；2:3 一列 3 張 → 每張佔 4 欄 */
    @media (min-width:768px){
      .ratio-3x2{ grid-column: span 6; }  /* 12 / 6 = 2 張/列 */
      .ratio-2x3{ grid-column: span 4; }  /* 12 / 4 = 3 張/列 */
    }

    /* 圖片鋪滿容器＋微縮放 hover */
    .g-item img{
      width:100%; height:100%; object-fit:cover; display:block;
      transition: transform .35s ease;
    }
    .g-item:hover img{ transform: scale(1.04); }

    /* 覆蓋資訊（滑過顯示） */
    .g-cap{
      position:absolute; inset:0; display:flex; align-items:end;
      padding:.75rem .85rem; color:#fff;
      background: linear-gradient(to top, rgba(0,0,0,.55), rgba(0,0,0,0) 55%);
      opacity:0; transition:opacity .25s ease;
    }
    .g-item:hover .g-cap{ opacity:1; }
    .g-cap .title{ font-weight:700; font-size:.95rem; line-height:1.2; }
    .g-cap .meta{ font-size:.8rem; opacity:.9; }

    /* 深色模式：提高覆蓋資訊對比 */
    [data-bs-theme="dark"] .g-cap{
      background: linear-gradient(to top, rgba(0,0,0,.7), rgba(0,0,0,0) 55%);
    }

    /* 可及性：減少動態效果 */
    @media (prefers-reduced-motion: reduce){
      .g-item img{ transition:none; }
      .g-item:hover img{ transform:none; }
      .g-cap{ transition:none; }
    }

    .footer{ opacity:.7; }
  </style>
</head>
<body>

  <!-- Top Bar（僅保留這一條） -->
  <nav class="navbar bg-body border-bottom" id="topbar">
    <div class="container-xxl d-flex align-items-center justify-content-between" style="min-height:52px;">
      <a class="navbar-brand d-flex align-items-center gap-2 fw-bold text-decoration-none" href="/" aria-label="Go to home">
        <img src="assets/favicon.png" alt="" width="22" height="22" class="rounded-2">
        <span>Kuan-Lin (Brian) Chen</span>
      </a>
      <ul class="navbar-nav flex-row align-items-center gap-4">
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center gap-1" href="index.html" aria-label="Home">
            <i class="bi bi-house"></i><span class="d-none d-xl-inline">Home</span>
          </a>
        </li>
        <li class="nav-item">
          <!-- 這裡直連 Flickr（本頁已是站內 Gallery） -->
          <div class="nav-link d-flex align-items-center gap-1" rel="noopener" aria-label="Flickr">
            <i class="bi bi-camera"></i><span class="d-none d-xl-inline"><strong>Gallery</strong></span>
          </div>
        </li>
        <li class="nav-item">
          <button id="themeToggleDesktop" class="icon-btn" type="button"
            aria-label="Toggle theme" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Toggle Theme">
            <i class="bi bi-moon-stars"></i>
          </button>
        </li>
      </ul>
    </div>
  </nav>

  <main class="py-4 py-md-5">
    <div class="container-xxl">
      <!-- 說明段 -->
      <div class="lead-wrap text-center mb-4 mb-md-5">
        <h1 class="h3 fw-bold mb-2">Curated Photography</h1>
        <p class="text-muted mb-0">
          I’m into photography, so I’ve put a few favorite photos here. For more, see my Flickr (coming soon).
<!--          <a href="https://www.flickr.com/photos/brianchen1120/" target="_blank" rel="noopener">Flickr</a>-->
        </p>
      </div>

      <!-- ====== 圖片區 ====== -->
      <section aria-label="Selected photos" class="mb-5">
        <div class="gallery-grid" id="gallery">
          <!-- ====== 3:2 寬圖（每列 2 張） ====== -->
          <figure class="g-item ratio-3x2" data-ratio="3x2">
            <div class="g-media">
              <img src="assets/gallery/1-1.JPG" alt="Portrait sample (3:2)" loading="lazy" decoding="async">
            </div>
            <figcaption class="g-cap">
              <div>
                <div class="title">LAWSON at Hita</div>
                <div class="meta">Sony ILCE-6400 · Tamron 28-200mm F/2.8-5.6 DiIII RXD (A071)<br>75mm · f/305 · 1/100s · ISO 1000 | 2025-10-11</div>
              </div>
            </figcaption>
          </figure>

          <figure class="g-item ratio-3x2" data-ratio="3x2">
            <div class="g-media">
              <img src="assets/gallery/1-2.jpg" alt="Portrait sample (3:2)" loading="lazy" decoding="async">
            </div>
            <figcaption class="g-cap">
              <div>
                <div class="title">Umeda Sky Building Floating Garden Observatory</div>
                <div class="meta">Sony ILCE-6400 · Tamron 28-200mm F/2.8-5.6 DiIII RXD (A071)<br>42mm · f/2.8 · 1.0s · ISO 320 | 2025-07-10</div>
              </div>
            </figcaption>
          </figure>


          <figure class="g-item ratio-2x3" data-ratio="2x3">
            <div class="g-media">
              <img src="assets/gallery/2-1.JPG" alt="Portrait sample (2:3)" loading="lazy" decoding="async">
            </div>
            <figcaption class="g-cap">
              <div>
                <div class="title">Itoshima City</div>
                <div class="meta">Sony ILCE-6400 · Tamron 28-200mm F/2.8-5.6 DiIII RXD (A071)<br>250mm · f/5.6 · 1/320s · ISO 160 | 2025-02-22</div>
              </div>
            </figcaption>
          </figure>

          <figure class="g-item ratio-2x3" data-ratio="2x3">
            <div class="g-media">
              <img src="assets/gallery/2-2.JPG" alt="Portrait sample (2:3)" loading="lazy" decoding="async">
            </div>
            <figcaption class="g-cap">
              <div>
                <div class="title">Takeo Shrine</div>
                <div class="meta">Sony ILCE-6400 · Sony E PZ 16–50 mm F3.5–5.6 OSS<br>24mm · f/20 · 1/40s · ISO 1000 | 2025-02-22</div>
              </div>
            </figcaption>
          </figure>

          <figure class="g-item ratio-2x3" data-ratio="2x3">
            <div class="g-media">
              <img src="assets/gallery/2-3.jpg" alt="Portrait sample (2:3)" loading="lazy" decoding="async">
            </div>
            <figcaption class="g-cap">
              <div>
                <div class="title">Ouo Shrine</div>
                <div class="meta">Sony ILCE-6400 · Sony E PZ 16–50 mm F3.5–5.6 OSS<br>37mm · f/22 · 1/160s · ISO 100 | 2025-10-10</div>
              </div>
            </figcaption>
          </figure>

          <figure class="g-item ratio-3x2" data-ratio="3x2">
            <div class="g-media">
              <img src="assets/gallery/3-1.jpg" alt="Portrait sample (3:2)" loading="lazy" decoding="async">
            </div>
            <figcaption class="g-cap">
              <div>
                <div class="title">National Taiwan University</div>
                <div class="meta">Sony ILCE-6400 · Tamron 28-200mm F/2.8-5.6 DiIII RXD (A071)<br>42mm · f/2.8 · 1/25s · ISO 3200 | 2025-09-05</div>
              </div>
            </figcaption>
          </figure>

          <figure class="g-item ratio-3x2" data-ratio="3x2">
            <div class="g-media">
              <img src="assets/gallery/3-2.JPG" alt="Portrait sample (3:2)" loading="lazy" decoding="async">
            </div>
            <figcaption class="g-cap">
              <div>
                <div class="title">Ouo Shrine</div>
                <div class="meta">Sony ILCE-6400 · Tamron 28-200mm F/2.8-5.6 DiIII RXD (A071)<br>228mm · f/5.6 · 1/100s · ISO 100 | 2025-10-10</div>
              </div>
            </figcaption>
          </figure>

          <figure class="g-item ratio-2x3" data-ratio="2x3">
            <div class="g-media">
              <img src="assets/gallery/4-1.JPG" alt="Portrait sample (2:3)" loading="lazy" decoding="async">
            </div>
            <figcaption class="g-cap">
              <div>
                <div class="title">Harukas 300</div>
                <div class="meta">Sony ILCE-6400 · Tamron 28-200mm F/2.8-5.6 DiIII RXD (A071)<br>77mm · f/13 · 20s · ISO 100 | 2025-07-14</div>
              </div>
            </figcaption>
          </figure>

          <figure class="g-item ratio-2x3" data-ratio="2x3">
            <div class="g-media">
              <img src="assets/gallery/4-2.jpg" alt="Portrait sample (2:3)" loading="lazy" decoding="async">
            </div>
            <figcaption class="g-cap">
              <div>
                <div class="title">Himeji Castle</div>
                <div class="meta">Sony ILCE-6400 · Tamron 28-200mm F/2.8-5.6 DiIII RXD (A071)<br>300mm · f/5.6 · 1/400s · ISO 100 | 2025-07-15</div>
              </div>
            </figcaption>
          </figure>

          <figure class="g-item ratio-2x3" data-ratio="2x3">
            <div class="g-media">
              <img src="assets/gallery/4-3.jpg" alt="Portrait sample (2:3)" loading="lazy" decoding="async">
            </div>
            <figcaption class="g-cap">
              <div>
                <div class="title">Heian Jingu Shrine</div>
                <div class="meta">Sony ILCE-6400 · Tamron 28-200mm F/2.8-5.6 DiIII RXD (A071)<br>76mm · f/5 · 1/320s · ISO 100 | 2025-07-13</div>
              </div>
            </figcaption>
          </figure>


        </div>
      </section>

      <footer class="footer py-4 border-top">
        <div class="container-xxl small d-flex justify-content-between">
          <div>© <span id="year"></span> Kuan-Lin (Brian) Chen</div>
          <div>Last updated: <span id="updated"></span></div>
        </div>
      </footer>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // 啟用 tooltip
    document.addEventListener('DOMContentLoaded', function () {
      [...document.querySelectorAll('[data-bs-toggle="tooltip"]')]
        .forEach(el => new bootstrap.Tooltip(el));
    });

    // Footer 年份/時間
    const elYear = document.getElementById('year');
    const elUpdated = document.getElementById('updated');
    if (elYear)   elYear.textContent   = new Date().getFullYear();
    if (elUpdated)elUpdated.textContent= new Date().toISOString().slice(0,10);

    // ----- 主題切換（沿用首頁） -----
    const root = document.documentElement;
    const STORAGE_KEY = 'pref-theme';
    const btnDesktop = document.getElementById('themeToggleDesktop');

    function syncIcons(theme){
      const icon = (theme === 'dark') ? 'bi-moon-stars' : 'bi-sun';
      [btnDesktop].forEach(btn=>{
        if (!btn) return;
        const i = btn.querySelector('i'); if (!i) return;
        i.className = 'bi ' + icon;
        btn.setAttribute('aria-label', theme === 'dark' ? 'Switch to light theme' : 'Switch to dark theme');
      });
    }
    function applyTheme(theme){
      root.setAttribute('data-bs-theme', theme);
      localStorage.setItem(STORAGE_KEY, theme);
      syncIcons(theme);
    }
    function getSavedOrSystemTheme(){
      const saved = localStorage.getItem(STORAGE_KEY);
      if (saved === 'light' || saved === 'dark') return saved;
      return (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light';
    }
    let userSet = !!localStorage.getItem(STORAGE_KEY);
    applyTheme(getSavedOrSystemTheme());
    if (window.matchMedia){
      const mq = window.matchMedia('(prefers-color-scheme: dark)');
      mq.addEventListener?.('change', e=>{
        if (!userSet) applyTheme(e.matches ? 'dark' : 'light');
      });
    }
    function toggleTheme(){
      userSet = true;
      const curr = root.getAttribute('data-bs-theme') || 'light';
      applyTheme(curr === 'dark' ? 'light' : 'dark');
    }
    btnDesktop?.addEventListener('click', toggleTheme);

    // // ----- 依比例自動分組（避免混排造成空洞） -----
    // (function(){
    //   const grid = document.getElementById('gallery');
    //   if (!grid) return;
    //   const items = Array.from(grid.children);
    //
    //   // 想先顯示寬圖(3:2)就 ['3x2','2x3']；想先直圖就 ['2x3','3x2']
    //   const order = ['3x2','2x3'];
    //
    //   const grouped = order.flatMap(r =>
    //     items.filter(el => (el.dataset.ratio || '').toLowerCase() === r)
    //   );
    //   const rest = items.filter(el => !order.includes((el.dataset.ratio || '').toLowerCase()));
    //
    //   [...grouped, ...rest].forEach(el => grid.appendChild(el));
    // })();
  </script>
</body>
</html>

